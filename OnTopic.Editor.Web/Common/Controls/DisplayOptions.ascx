<%@ Control Language="C#" ClassName="DisplayOptions" Inherits="Ignia.Topics.Web.Editor.AttributeTypeControl" %>

<%@ Import Namespace="Ignia.Topics" %>
<%@ Import Namespace="System" %>
<%@ Import Namespace="System.Web" %>
<%@ Import Namespace="System.Web.UI" %>

<Script RunAt="Server">
/*==============================================================================================================================
| Author        Katherine Trunkey, Ignia LLC (katherine.trunkey@ignia.com)
| Client        Ignia
| Project       Topics Editor
\=============================================================================================================================*/

  /*============================================================================================================================
  | PRIVATE VARIABLES
  \---------------------------------------------------------------------------------------------------------------------------*/
  private       string          _value                  = null;

  /*============================================================================================================================
  | PROPERTY: VALUE
  \---------------------------------------------------------------------------------------------------------------------------*/
  public override string Value {
    get {
      string value = "Default";
      if (Field.SelectedItem != null) {
        value = Field.SelectedItem.Value;
      }
      return value;
    }
    set {
      _value = value;
    }
  }

  /*============================================================================================================================
  | PAGE INIT
  \---------------------------------------------------------------------------------------------------------------------------*/
  protected void Page_Init(Object Src, EventArgs E) {

    /*--------------------------------------------------------------------------------------------------------------------------
    | Bind control
    \-------------------------------------------------------------------------------------------------------------------------*/
    // this.DataBind();

  }

  /*============================================================================================================================
  | PAGE LOAD
  \---------------------------------------------------------------------------------------------------------------------------*/
  void Page_Load(Object Src, EventArgs E) {

    /*--------------------------------------------------------------------------------------------------------------------------
    | CSS class
    \-------------------------------------------------------------------------------------------------------------------------*/
    Field.CssClass              = "FormField " + Field.CssClass;

    /*--------------------------------------------------------------------------------------------------------------------------
    | Handle deferred value set
    \-------------------------------------------------------------------------------------------------------------------------*/
    if (_value != null) {
      Value                     = _value;
    }
    if (!String.IsNullOrEmpty(Value) && (Value.Equals("Default") || Value.Equals("Desktop") || Value.Equals("Mobile")) {
      Field.SelectedValue       = Value;
    }

    /*--------------------------------------------------------------------------------------------------------------------------
    | Bind child controls
    \-------------------------------------------------------------------------------------------------------------------------*/
    Field.DataBind();

  }

</Script>

<asp:RadioButtonList
  ID                            = "Field"
  RepeatLayout                  = "UnorderedList"
  CssClass                      = "Radio-Buttons"
  RunAt                         = "Server"
  >
  <asp:ListItem Value="Default" Text="Desktop and Mobile" Selected="True" />
  <asp:ListItem Value="Desktop" Text="Desktop Only" />
  <asp:ListItem Value="Mobile" Text="Mobile Only" />
</asp:RadioButtonList>